!function(o){"use strict";o(document).ready(function(){function t(){l.nav.css({top:-l.nav.height()+f.navOverhang})}function n(){l.nav.css({top:0})}function e(){parseInt(l.nav.css("top"))<0?n():t()}function i(n){l.htmlBody.animate({scrollTop:o(n).offset().top}),h()&&t()}function r(){l.allSections.each(function(t,n){m.isInside(o(n),f.navOverhang)&&o('nav a[href="#'+o(n)[0].id+'"]').css({"background-color":"rgba(201, 68, 197, 0.2)"}).siblings("a").css({"background-color":"rgba(201, 68, 91, 0)"})})}function c(){m.direction()===m.prevDirection||h()||("down"===m.direction()?t():n()),m.prevDirection=m.direction(),m.prevPosition=m.position()}function s(t){t.preventDefault(),i("#contact"),o.ajax({type:"post",url:"mail",data:l.contactForm.serialize(),error:function(t){o("div#form-messages").html(t)},success:function(t,n,e){200===e.status&&l.contactForm.hide(),o("div#form-messages").html(t)}})}function a(t){t.preventDefault(),o.ajax({type:"get",url:"partials/metro.json",error:function(o){console.log(o)},success:function(t){var n=t.images;o("div.project-view div.img-container").html('<img src="'+n[0]+'" alt="">')}})}var u=o("body"),h=function(){return v(u)>768?!1:!0},v=function(o){return o.width()},d=function(){return o(h()?"nav#mobile-nav":"nav#standard-nav")},l={win:o(window),html:o("html"),bod:o("body"),htmlBody:o("html, body"),nav:d(),navLinks:o("nav a"),header:o("header"),allSections:o("section"),about:o("div#about"),projects:o("div#project"),contact:o("div#contact"),navHome:o(this.nav).find("a").attr("href"),navAbout:o(this.nav).find("#about"),navProjects:o(this.nav).find("#things"),navContact:o(this.nav).find("#contact"),headerOverlay:o("header .header-overlay2"),title:o("header h1"),logo:o("header .logo"),projectThumb:o("div.thumb"),projectView:o("div.project-view"),projectClose:o("div.close-button"),contactForm:o("form#contact-form")},f={navOverhang:h()?document.getElementById("menu").clientHeight:10,headerHeight:l.header.height()},m=function(){return{prevPosition:l.bod.scrollTop()||l.html.scrollTop(),getPosition:function(){return l.bod.scrollTop()||l.html.scrollTop()},position:function(){return this.getPosition()<0?0:this.getPosition()},newPosition:function(){return this.position()!==this.prevPosition},prevDirection:null,direction:function(){return this.prevPosition<this.position()?"down":"up"},newDirection:function(){return this.direction()!==this.prevDirection},isInside:function(o){return console.log(o),this.position()>=o.offset().top-l.nav.height()&&this.position()<o.offset().top+o.height()?!0:!1},isAbove:function(o){var t=o.offset().top;return this.position()<t},isBelow:function(o){var t=o.offset().top+o.height();return this.position()>t}}}();l.bod.animate({opacity:1}),o("nav a[href=#home]").css({background:"rgba(201, 68, 197, 0.2)"}),o("h2").fitText(1,{maxFontSize:"48px"});var p={windowResize:function(){l.nav=d(),f.navOverhang=h()?document.getElementById("menu").clientHeight:10},windowScroll:function(){c(),r()},bodyClick:function(){h()&&parseInt(l.nav.css("top"))>-l.nav.find("a").height()&&t()},navClick:function(t){t.preventDefault();var n=o(this);"menu"!==this.id?i(n.attr("href")):e()},projectThumbMouseover:function(){var t=o(this);t.find(".hover-card").addClass("mouseover"),t.find("img.project-thumb-hover").addClass("mouseover")},projectThumbMouseout:function(){var t=o(this);t.find(".hover-card").removeClass("mouseover"),t.find("img.project-thumb-hover").removeClass("mouseover")},projectThumbClick:function(o){l.projectView.addClass("show"),a(o)},projectCloseClick:function(){l.projectView.removeClass("show"),o("div.project-view div.img-container").html("")}};!function g(){m.newPosition()&&window.requestAnimationFrame(function(){p.windowScroll()}),setTimeout(g,17)}(),l.win.on("resize",p.windowResize),l.bod.on("click",p.bodyClick),l.navLinks.on("click",p.navClick),l.projectThumb.on("mouseover",p.projectThumbMouseover),l.projectThumb.on("mouseout",p.projectThumbMouseout),l.projectThumb.on("click",p.projectThumbClick),l.projectClose.on("click",p.projectCloseClick),l.contactForm.on("submit",function(o){s(o)})})}(jQuery);