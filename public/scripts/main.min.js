!function(t){"use strict";t.fn.fitText=function(o,n){var e=o||1,i=t.extend({minFontSize:Number.NEGATIVE_INFINITY,maxFontSize:Number.POSITIVE_INFINITY},n);return this.each(function(){var o=t(this),n=function(){o.css("font-size",Math.max(Math.min(o.width()/(10*e),parseFloat(i.maxFontSize)),parseFloat(i.minFontSize)))};n(),t(window).on("resize.fittext orientationchange.fittext",n)})}}(jQuery),function(t){"use strict";t(document).ready(function(){function o(){console.log(m.nav),m.nav.removeClass("down")}function n(){m.nav.addClass("down")}function e(){m.nav.toggleClass("down")}function i(n){var e=t(n).attr("href")||t(n).data("href");m.htmlBody.stop().animate({scrollTop:t(e).offset().top},700,function(){window.location.hash=n.hash}),l()&&o()}function r(){m.allSections.each(function(o,n){p.isInside(t(n),-f.navOverhang)&&t('nav a[href="#'+t(n)[0].id+'"]').addClass("active").siblings("a").removeClass("active")})}function a(){m.allSections.each(function(o,n){p.isInside(t(n),-m.win.height()-300)&&t(this).find("h2").addClass("active").parent().siblings().find("h2").removeClass("active")})}function s(){var t=p.direction();t===p.prevDirection||l()||("down"===t?o():n()),p.prevDirection=t,p.prevPosition=p.position()}function c(o){o.preventDefault(),i(o.target),t.ajax({type:"post",url:"mail",data:m.contactForm.serialize(),error:function(o){t("div#form-messages").html(o)},success:function(o,n,e){200===e.status&&m.contactForm.hide(),t("div#form-messages").html(o)}})}function u(o){o.preventDefault(),t.ajax({type:"get",url:"partials/metro.json",error:function(t){console.error(t)},success:function(o){var n=o.images;t("div.project-view div.img-container").html('<img src="'+n[0]+'" alt="">')}})}var h=t("body"),l=function(){return d(h)>768?!1:!0},d=function(t){return t.width()},v=function(){return t(l()?"nav#mobile-nav":"nav#standard-nav")},m={win:t(window),html:t("html"),bod:t("body"),htmlBody:t("html, body"),nav:v(),navLinks:t("nav a"),header:t("header"),allSections:t(["header#home","section#about","section#things","section#contact"]),about:t("div#about"),projects:t("div#project"),contact:t("div#contact"),navHome:t(this.nav).find("a").attr("href"),navAbout:t(this.nav).find("#about"),navProjects:t(this.nav).find("#things"),navContact:t(this.nav).find("#contact"),headerOverlay:t("header .header-overlay2"),title:t("header h1"),logo:t("header .logo"),projectThumb:t("div.thumb"),projectView:t("div.project-view"),projectClose:t("div.close-button"),contactForm:t("form#contact-form")},f={navOverhang:l()?document.getElementById("menu").clientHeight:10,headerHeight:m.header.height()},p=function(){return{prevPosition:m.bod.scrollTop()||m.html.scrollTop(),getPosition:function(){return m.bod.scrollTop()||m.html.scrollTop()},position:function(){return this.getPosition()<0?0:this.getPosition()},newPosition:function(){return this.position()!==this.prevPosition},prevDirection:null,direction:function(){return this.prevPosition<this.position()?"down":"up"},newDirection:function(){return this.direction()!==this.prevDirection},isInside:function(t,o,n){var e=this.position(),i=t.offset().top+(o||0),r=t.offset().top+t.height()+(n||0);return e>=i&&r>e?!0:!1},isAbove:function(t){var o=t.offset().top;return this.position()<o},isBelow:function(t){var o=t.offset().top+t.height();return this.position()>o}}}();m.bod.animate({opacity:1}),r(),t("h2").fitText(1,{maxFontSize:"28px"});var g={windowResize:function(){m.nav=v(),f.navOverhang=l()?document.getElementById("menu").clientHeight:10},windowScroll:function(){s(),r(),a()},bodyClick:function(t){t.stopPropagation(),l()&&o()},navClick:function(t){t.preventDefault(),t.stopPropagation(),"menu"!==this.id?i(this):e()},projectThumbMouseover:function(){var o=t(this);o.find(".hover-card").addClass("mouseover"),o.find("img.project-thumb-hover").addClass("mouseover")},projectThumbMouseout:function(){var o=t(this);o.find(".hover-card").removeClass("mouseover"),o.find("img.project-thumb-hover").removeClass("mouseover")},projectThumbClick:function(t){m.projectView.addClass("show"),u(t)},projectCloseClick:function(){m.projectView.removeClass("show"),t("div.project-view div.img-container").html("")}};!function w(){p.newPosition()?window.requestAnimationFrame(function(){g.windowScroll(),w()}):setTimeout(w,17)}(),m.win.on("resize",g.windowResize),m.bod.on("click",g.bodyClick),m.navLinks.on("click",g.navClick),m.projectThumb.on("mouseover",g.projectThumbMouseover),m.projectThumb.on("mouseout",g.projectThumbMouseout),m.projectThumb.on("click",g.projectThumbClick),m.projectClose.on("click",g.projectCloseClick),m.contactForm.on("submit",function(t){c(t)})})}(jQuery),function(t,o,n,e,i,r,a){t.GoogleAnalyticsObject=i,t[i]=t[i]||function(){(t[i].q=t[i].q||[]).push(arguments)},t[i].l=1*new Date,r=o.createElement(n),a=o.getElementsByTagName(n)[0],r.async=1,r.src=e,a.parentNode.insertBefore(r,a)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-61497510-1","auto"),ga("send","pageview");